extends layout

block layout-content
  nav.navbar.sticky-top.bg-body-tertiary 
    div.container-fluid
      a.navbar-brand(href="/")
        img(src="/images/trophy.png", alt="Trophy", height="30px", width="30px")
        span.navbar-brand-text.title-fix Tourney Tracker
      div.navbar-nav.navbar-flex-fix
        a.nav-link.disabled Welcome, #{userProfile.name.givenName}!
        button.btn.btn-outline-secondary(type="button", onclick="window.location.href='/logout'")
          i.bi.bi-door-closed.icon-btn-logout
          | Logout
  div.container-fluid
    div.row
      div.col.tourneylist-main
        div.tourneylist-main-flex
          each tournament in tournaments 
            - 
              var tourneyDate = new Date(tournament.date)
              var tourneyDateFormatted = tourneyDate.toDateString();
              var tourneyTime = tourneyDate.toLocaleTimeString();
              var numOfAttendees = tournament.attendees.length;
            div.card.tourney-card
              img.card-img-top(src=tournament.image_url, alt="")
              div.card-body
                h5.card-title #{tournament.name}
                p.card-text 
                  i Game: 
                  | #{tournament.game}
                p.card-text 
                  i Date: 
                  | #{tourneyDateFormatted}
                p.card-text 
                  i Time: 
                  | #{tourneyTime}
                p.card-text 
                  i Attendees: 
                  | #{numOfAttendees}
                button.btn.btn-primary(type="button" onclick="window.location.href='/tournament/" +  tournament._id + "'") View Tournament